<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>
	$(function(){
		$('button').click(function(){
			// ajax()
			$.ajax({
				url : 'ajax_data.json', // 서버에 접속할 파일
				dataType : 'json', // 전송 받을 정보의 데이터 타입 표시
				success : function(result){ // 서버에서 정상적으로 접속하여 정보를 받았을 때 실행, result : 받은 정보를 담은 매개변수
					console.log(result.rank[0].name);
					$.each(result.rank, function(idx, obj){ // obj는 객체
						//var tag = '<li>'+ obj['name'] + ', ' + obj['local'] + ', ' + obj['tel'] + '</li>';
						var tag = '<li>'+ this.name + ', ' + obj.local + ', ' + obj.tel + '</li>'; // this도 되네
						$('#jsonData').append(tag);
					});
					
					//$('ol').append('<li>'+ result.rank[0].name + '</li>');
				}, error : function(request, status, error){	// 전송 실패 시 실행되는 함수, 매개변수 안 써도 됨!
					console.log('error code = ', request.code);
					console.log('message = ', request.responseText);
					console.log('status = ', status);
					console.log('error = ', error);
				}
				
			});
		});
	});
</script>
</head>
<body>
<button>클릭하시면 json 파일의 내용을 가져옵니다.</button>
<hr/>
<ol id="jsonData">

</ol>
<img src="../img/wbb2.jpg"/>
</body>
</html>